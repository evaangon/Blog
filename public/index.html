<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <meta charset="utf-8">
        <title>Blog App AngularJS App</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
        <script>
            angular.module('myApp', []);
            angular.module('myApp').controller('BlogCtrl', function($scope,$http) {
				function getPosts() {
				                $http.get('/posts').then(function(response) {
					 $scope.posts = response.data;
					});
            }
            getPosts();
            $scope.addPost = function() {
                $http.post('/posts', $scope.newPost).then(function() {
                    getPosts();
                    $scope.newPost = {};
                });
				};
            });
        </script>
        <div class="text-center">
            <h1>Eva's blog<small>  provided by Eva</small></h1>
        </div>

    </head>
    <body ng-app="myApp">
        <div class="container" ng-controller="BlogCtrl">
    <div class="row">
        <div class="col-sm-4 col-sm-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title">Create Post</h3>
                </div>

                <div class="panel-body">

                                  Tilte<input type="text" class="form-control"  required ng-model= "newPost.title">

                                  Body<textarea class="form-control" rows="10"  ng-model="newPost.body"></textarea><br>

                             <div class="text-center">
                                 <input type="button" class="btn btn-primary"  value="Save Post" ng-click="addPost()" ng-disabled="!newPost.title || !newPost.body">
                             </div>


                </div>

            </div>
        </div>
        <div class=" col-sm-8">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Blog Posts</h3>
                </div>

                <div class="panel-body">
                            <div class='form-group' ng-repeat='post in posts.slice().reverse()'>
                                <h5><b>{{post.title}} <span style="float:right">{{post.date | date:'medium'}}</span></b></h5>
                                   <p>{{post.body}}</p>

                                 <br>

                            </div>
        </div>
        </div>
    </div>


</div>


</body>

</html>
